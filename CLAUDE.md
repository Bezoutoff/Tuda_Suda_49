# CLAUDE.md - Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Tuda Suda 49

## ĞĞ±Ğ·Ğ¾Ñ€ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Tuda Suda 49** â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ğ¸ Ğ½Ğ° Polymarket. Ğ‘Ğ¾Ñ‚ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ñ‹Ñ… BTC updown 15-Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğ½Ñ‹Ñ… Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¾Ğ² Ğ¸ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰Ğ°ĞµÑ‚ Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ğ½Ğ° Ğ¿Ğ¾ĞºÑƒĞ¿ĞºÑƒ Ğ¿Ğ¾ 49 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ² Ğ½Ğ° Ğ¾Ğ±Ğ° Ğ¸ÑÑ…Ğ¾Ğ´Ğ° (YES Ğ¸ NO).

### ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ
"Ğ¢ÑƒĞ´Ğ°-Ğ¡ÑĞ´Ğ° 49" â€” Ğ¾Ñ‚Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ: ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼ Ğ¸ Ñ‚ÑƒĞ´Ğ° (YES), Ğ¸ ÑÑĞ´Ğ° (NO) Ğ¿Ğ¾ 49 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ².

### Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ
BTC updown Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ñ‹ â€” ÑÑ‚Ğ¾ ĞºÑ€Ğ°Ñ‚ĞºĞ¾ÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ (15 Ğ¼Ğ¸Ğ½ÑƒÑ‚) Ğ±Ğ¸Ğ½Ğ°Ñ€Ğ½Ñ‹Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ñ‹ Ğ½Ğ° Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ Ñ†ĞµĞ½Ñ‹ Bitcoin. Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ·Ğ°ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğ² Ñ‚Ğ¾Ğ¼, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¼ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ Ğ½Ğ° Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ğ¸ÑÑ…Ğ¾Ğ´Ğ°Ñ… Ğ¿Ğ¾ Ğ²Ñ‹Ğ³Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ†ĞµĞ½Ğµ 49Â¢. Ğ•ÑĞ»Ğ¸ Ğ¾Ñ€Ğ´ĞµÑ€ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑÑ Ğ¿Ğ¾ 49Â¢, Ğ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ ~50%, Ñ‚Ğ¾ ĞµÑÑ‚ÑŒ Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğµ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾.

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Tuda Suda 49 Bot                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ WebSocket       â”‚    â”‚ Trading         â”‚                â”‚
â”‚  â”‚ Client (RTDS)   â”‚â”€â”€â”€â–¶â”‚ Service         â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚          â”‚                      â”‚                          â”‚
â”‚          â”‚                      â”‚                          â”‚
â”‚          â–¼                      â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Market Filter   â”‚    â”‚ CLOB Client     â”‚                â”‚
â”‚  â”‚ (btc-updown-15m)â”‚    â”‚ (Order API)     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

1. **WebSocket Client** (`@polymarket/real-time-data-client`)
   - ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğº Polymarket RTDS (Real-Time Data Service)
   - ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° topic `clob_market`, type `market_created`
   - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¾Ğ² Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸

2. **Market Filter**
   - Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµÑ‚ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ñ‹ Ğ¿Ğ¾ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñƒ `btc-updown-15m`
   - Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ timestamp Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ² Ğ¸Ğ· slug (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: `btc-updown-15m-1764054900`)
   - ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

3. **Trading Service** (`@polymarket/clob-client`)
   - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ½Ñ‹Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ğ½Ğ° Ğ±Ğ¸Ñ€Ğ¶Ñƒ
   - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ GTD (Good-Til-Date) Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¾Ğ¹
   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ POLY_PROXY signature type Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¸

## Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
Tuda_Suda_49/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ bot.ts              # Entry point, Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ±Ğ¾Ñ‚Ğ°
â”‚   â”œâ”€â”€ config.ts           # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ±Ğ¾Ñ‚Ğ° Ğ¸ trading
â”‚   â”œâ”€â”€ trading-service.ts  # Ğ¡ĞµÑ€Ğ²Ğ¸Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ² (ÑƒĞ¿Ñ€Ğ¾Ñ‰Ñ‘Ğ½Ğ½Ñ‹Ğ¹)
â”‚   â””â”€â”€ types.ts            # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â”œâ”€â”€ package.json            # Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹
â”œâ”€â”€ tsconfig.json           # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ TypeScript
â”œâ”€â”€ .env                    # Ğ¡ĞµĞºÑ€ĞµÑ‚Ñ‹ (ĞĞ• Ğ² git!)
â”œâ”€â”€ .env.example            # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md               # Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â””â”€â”€ CLAUDE.md               # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ» (Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Claude)
```

## ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

### src/bot.ts
ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ğ±Ğ¾Ñ‚Ğ°. Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:
- `main()` â€” Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº
- `handleMarketCreated()` â€” Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°
- `placeAutoOrders()` â€” Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ² YES Ğ¸ NO
- `fetchTokenIdsFromGamma()` â€” fallback Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ token IDs

### src/config.ts
ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ:
- `BOT_CONFIG` â€” Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ±Ğ¾Ñ‚Ğ° (Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°, Ñ†ĞµĞ½Ğ°, Ñ€Ğ°Ğ·Ğ¼ĞµÑ€)
- `tradingConfig` â€” Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ trading service Ğ¸Ğ· .env
- Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸: `getOrderSize()`, `extractStartTimestamp()`, `isBtcUpdownMarket()`

### src/trading-service.ts
Ğ£Ğ¿Ñ€Ğ¾Ñ‰Ñ‘Ğ½Ğ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ trading service Ğ¸Ğ· live-trade-PM:
- `createLimitOrder()` â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ€Ğ´ĞµÑ€Ğ°
- `cancelOrder()` â€” Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ° Ğ¾Ñ€Ğ´ĞµÑ€Ğ°
- ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° GTC Ğ¸ GTD Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ²

### src/types.ts
TypeScript Ñ‚Ğ¸Ğ¿Ñ‹:
- `TradingConfig` â€” ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ trading service
- `CreateOrderRequest` â€” Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¾Ñ€Ğ´ĞµÑ€Ğ°
- `Order` â€” ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¾Ñ€Ğ´ĞµÑ€Ğ°
- `OrderUpdate` â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°

## ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (.env)

```env
# ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ ĞºĞ¾ÑˆĞµĞ»ÑŒĞºĞ° (64 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ° Ğ‘Ğ•Ğ— 0x)
PK=your_private_key_here

# API credentials Ğ´Ğ»Ñ Polymarket CLOB
CLOB_API_KEY=your_api_key
CLOB_SECRET=your_secret
CLOB_PASS_PHRASE=your_passphrase

# ĞĞ´Ñ€ĞµÑ funder (Ğ´Ğ»Ñ POLY_PROXY, Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
FUNDER=0x...

# Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ğ² USDC
BOT_ORDER_SIZE=10
```

## Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

### 1. Ğ—Ğ°Ğ¿ÑƒÑĞº
```
npm start
```
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ .env
- Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ TradingService
- ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğº Polymarket RTDS
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° `market_created`

### 2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°
ĞšĞ¾Ğ³Ğ´Ğ° Polymarket ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ°Ñ€ĞºĞµÑ‚, RTDS Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ:
```json
{
  "type": "market_created",
  "slug": "btc-updown-15m-1764054900",
  "tokens": [
    { "token_id": "123...", "outcome": "Up" },
    { "token_id": "456...", "outcome": "Down" }
  ]
}
```

### 3. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
Ğ‘Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚:
- Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ»Ğ¸ slug Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ `btc-updown-15m`
- ĞĞµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ»ÑÑ Ğ»Ğ¸ ÑÑ‚Ğ¾Ñ‚ Ğ¼Ğ°Ñ€ĞºĞµÑ‚ Ñ€Ğ°Ğ½ĞµĞµ

### 4. Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- Timestamp Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°: `1764054900` Ğ¸Ğ· slug
- Token IDs Ğ´Ğ»Ñ YES Ğ¸ NO Ğ¸Ğ· ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¸Ğ»Ğ¸ Gamma API

### 5. Ğ Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ²
Ğ”Ğ²Ğ° GTD Ğ¾Ñ€Ğ´ĞµÑ€Ğ°:
- **YES** @ 0.49 (49 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²)
- **NO** @ 0.49 (49 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²)

GTD expiration = timestamp Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ² - 60 ÑĞµĞºÑƒĞ½Ğ´ (Ğ±ÑƒÑ„ĞµÑ€)

## API Ğ¸ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

### Polymarket APIs
- **RTDS WebSocket**: `wss://...` â€” real-time ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
- **CLOB REST API**: `https://clob.polymarket.com` â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ²
- **Gamma API**: `https://gamma-api.polymarket.com` â€” Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°Ñ…

### npm Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
```json
{
  "@polymarket/clob-client": "^4.22.8",
  "@polymarket/real-time-data-client": "^1.4.0",
  "dotenv": "^17.2.3",
  "ethers": "^5.8.0"
}
```

## Ğ¡Ğ²ÑĞ·ÑŒ Ñ live-trade-PM

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ±Ñ‹Ğ» Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½ Ğ¸Ğ· `live-trade-PM` (Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»). ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ñ:

| ĞÑĞ¿ĞµĞºÑ‚ | live-trade-PM | Tuda_Suda_49 |
|--------|---------------|--------------|
| ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ | Ğ ÑƒÑ‡Ğ½Ğ°Ñ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ Ñ UI | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ±Ğ¾Ñ‚ |
| UI | Electron + HTML | ĞĞµÑ‚ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ) |
| ĞŸĞ°Ñ€ÑĞµÑ€Ñ‹ | Bwin, Pinnacle, Polymarket | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Polymarket |
| Trading Service | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ | Ğ£Ğ¿Ñ€Ğ¾Ñ‰Ñ‘Ğ½Ğ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ |
| Ğ Ğ°Ğ·Ğ¼ĞµÑ€ | ~50+ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² | 4 Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ² src/ |

## ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
npm start

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ² dev Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ (Ñ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑÑ…)
npm run dev

# ĞšĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ñ TypeScript
npm run build
```

## Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ

1. **ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ** â€” Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ fills Ñ‡ĞµÑ€ĞµĞ· RTDS `clob_user` topic
2. **Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ†ĞµĞ½Ğ°** â€” Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· order book Ğ¿ĞµÑ€ĞµĞ´ Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸ĞµĞ¼
3. **ĞœĞ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹** â€” Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… updown Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¾Ğ² (ETH, SOL)
4. **Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ** â€” Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ñ Ğ¾ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°Ñ… Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğ¸
5. **Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ñ„Ğ°Ğ¹Ğ»** â€” ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹
6. **Graceful shutdown** â€” ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞµ

## Troubleshooting

### ĞÑˆĞ¸Ğ±ĞºĞ° "API credentials required"
ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ñ‡Ñ‚Ğ¾ Ğ² .env Ğ·Ğ°Ğ´Ğ°Ğ½Ñ‹ CLOB_API_KEY, CLOB_SECRET, CLOB_PASS_PHRASE

### ĞÑ€Ğ´ĞµÑ€Ğ° Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ USDC Ğ½Ğ° Polymarket
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ñ‡Ñ‚Ğ¾ funder address ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ»Ğ¾Ğ³Ğ¸ Ğ½Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ¾Ñ‚ CLOB API

### Ğ‘Ğ¾Ñ‚ Ğ½Ğµ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ñ‹
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº RTDS (Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ»Ğ¾Ğ³ "Connected")
2. Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ° ("Subscribed to market_created")
3. BTC updown Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚

## Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Latency

### src/test-latency.ts

Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ latency HTTP POST Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğº Polymarket CLOB API.

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:**
1. Polling Gamma API Ğ´Ğ¾ Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°
2. Ğ–Ğ´Ñ‘Ñ‚ DELAY_BEFORE_SPAM_MS (19 ÑĞµĞº)
3. Pre-sign 1 Ğ¾Ñ€Ğ´ĞµÑ€ (UP @ 0.45, expiration = 1 ÑĞµĞº Ğ´Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°)
4. Spam postSignedOrder() Ñ 20 Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸
5. Ğ›Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ² CSV Ñ„Ğ°Ğ¹Ğ»
6. Ğ’Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ: min, max, avg, median

**Ğ—Ğ°Ğ¿ÑƒÑĞº:**
```bash
npm run test-latency btc-updown-15m-1764930600
```

**CSV Ñ„Ğ°Ğ¹Ğ»:** `latency.csv`
```csv
timestamp,slug,side,price,latency_ms,success,error
```

**Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ latency:**
- Ğ¡Ğ¨Ğ (Ğ±Ğ»Ğ¸Ğ·ĞºĞ¾ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ğ°Ğ¼): ~250-300ms
- Ğ•Ğ²Ñ€Ğ¾Ğ¿Ğ°: ~400-500ms
- ĞĞ·Ğ¸Ñ/Ğ´Ğ°Ğ»ĞµĞºĞ¾: ~600-800ms

**Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ Ğ½Ğ° Ğ±Ğ¾Ñ‚Ğ°:**
- Latency Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº Ğ±Ğ¾Ñ‚ ÑƒÑĞ¿ĞµĞµÑ‚ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ
- ĞŸÑ€Ğ¸ 285ms Ğ·Ğ° 6 ÑĞµĞº = ~420 Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº
- ĞŸÑ€Ğ¸ 600ms Ğ·Ğ° 6 ÑĞµĞº = ~200 Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº (Ğ² 2 Ñ€Ğ°Ğ·Ğ° Ğ¼ĞµĞ½ÑŒÑˆĞµ!)

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ latency

```
HTTP POST /order:
â”œâ”€ DNS Ñ€ĞµĞ·Ğ¾Ğ»Ğ²:           ~1ms   (ĞºÑÑˆĞ¸Ñ€ÑƒĞµÑ‚ÑÑ)
â”œâ”€ TCP/TLS handshake:    ~10ms  (keep-alive)
â”œâ”€ Ğ¡Ğ•Ğ Ğ’Ğ•Ğ  ĞĞ‘Ğ ĞĞ‘ĞĞ¢ĞšĞ:   ~250ms   â† Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ bottleneck
â”‚   â”œâ”€ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¸
â”‚   â”œâ”€ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°
â”‚   â”œâ”€ Matching engine
â”‚   â””â”€ Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² Ğ‘Ğ”
â””â”€ ĞÑ‚Ğ²ĞµÑ‚ ÑĞµÑ€Ğ²ĞµÑ€Ğ°:       ~20ms
```

## C++ Latency Test

### Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âœ… Raw HTTP Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

C++ Ğ²ĞµÑ€ÑĞ¸Ñ latency Ñ‚ĞµÑÑ‚Ğ° Ğ´Ğ»Ñ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ Ñ TypeScript.
Ğ¦ĞµĞ»ÑŒ: Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ, Ğ´Ğ°ÑÑ‚ Ğ»Ğ¸ C++ Ğ½Ğ° libcurl Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ Ğ² latency.

### Ğ¤Ğ°Ğ¹Ğ»Ñ‹
- `src/cpp/test-latency.cpp` â€” C++ HTTP ÑĞ¿Ğ°Ğ¼ Ñ libcurl + OpenSSL HMAC
- `src/test-latency-cpp.ts` â€” Node.js Ğ¾Ğ±Ñ‘Ñ€Ñ‚ĞºĞ° (polling + pre-sign)
- `build-cpp.sh` â€” ÑĞºÑ€Ğ¸Ğ¿Ñ‚ ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ubuntu

### Ğ—Ğ°Ğ¿ÑƒÑĞº
```bash
npm run build:cpp  # ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ñ C++
npm run test-latency-cpp btc-updown-15m-TIMESTAMP
```

### Ğ ĞµÑˆÑ‘Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹

#### 1. 401 Unauthorized
- **POLY_ADDRESS**: ĞÑƒĞ¶ĞµĞ½ wallet address, Ğ½Ğµ funder address
- **Header names**: `POLY_ADDRESS` (underscore), Ğ½Ğµ `POLY-ADDRESS` (hyphen)
- **Signature**: URL-safe base64 (`+`â†’`-`, `/`â†’`_`)

#### 2. 400 "Invalid order payload"
SDK ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ² `orderToJson()`:
- `side: 0` â†’ `side: "BUY"` (ÑÑ‚Ñ€Ğ¾ĞºĞ°, Ğ½Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾!)
- `orderType: 1` â†’ `orderType: "GTD"` (ÑÑ‚Ñ€Ğ¾ĞºĞ°, Ğ½Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾!)

**Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:**
```typescript
const transformedOrder = {
  ...signedOrder,
  salt: parseInt(signedOrder.salt, 10),
  side: signedOrder.side === 0 ? 'BUY' : 'SELL',  // KEY FIX
};

const orderBody = JSON.stringify([{
  deferExec: false,
  order: transformedOrder,
  owner: tradingConfig.apiKey,
  orderType: 'GTD',  // String, not number!
}]);
```

### ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
```bash
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ (Ubuntu)
sudo apt-get install -y build-essential libcurl4-openssl-dev libssl-dev

# ĞšĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ñ
npm run build:cpp

# Ğ—Ğ°Ğ¿ÑƒÑĞº
npm run test-latency-cpp btc-updown-15m-<TIMESTAMP>
```

## Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Latency (Python)

### Ğ¤Ğ°Ğ¹Ğ»: `scripts/plot_latency.py`

Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ² latency Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ `latency.csv`.

**Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹:**
```bash
pip install pandas matplotlib
```

**Ğ—Ğ°Ğ¿ÑƒÑĞº:**
```bash
python scripts/plot_latency.py latency.csv
```

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ CSV Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°Ğ¼Ğ¸ latency Ñ‚ĞµÑÑ‚Ğ¾Ğ²
- Ğ¡Ñ‚Ñ€Ğ¾Ğ¸Ñ‚ Ğ³Ñ€Ğ°Ñ„Ğ¸Ğº latency Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ñ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸ (Ğ¼Ñ) Ğ½Ğ°Ğ´ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ñ‚Ğ¾Ñ‡ĞºĞ¾Ğ¹
- ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ñ€ĞµĞ¼Ñ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ HH:MM:SS.mmm Ğ½Ğ° Ğ¾ÑĞ¸ X
- Ğ¡Ñ‚Ñ€Ğ¾Ğ¸Ñ‚ Ğ³Ğ¸ÑÑ‚Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ latency
- Ğ’Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ: min, max, mean, median, std, P95, P99
- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ PNG Ñ„Ğ°Ğ¹Ğ»
- Ğ¢Ñ‘Ğ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°

**Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹:**
- `latency_plot.png` â€” Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ latency

## Redemption Bot - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ñ‹ĞºÑƒĞ¿ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹

### ĞĞ±Ğ·Ğ¾Ñ€

**Redemption Bot** â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Python Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ğ²Ñ‹ĞºÑƒĞ¿Ğ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹ Ğ½Ğ° Polymarket. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ñ‡ĞµÑ€ĞµĞ· systemd timer Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ñ‹ĞºÑƒĞ¿Ğ°ĞµÑ‚ (redeem) Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ‹Ñ… Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¾Ğ².

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Systemd Timer (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Python Redemption Bot (main.py)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 1. config.py â†’ Load .env credentials              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 2. polymarket_api.py â†’ GET /balances/{funder}     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 3. redemption_logic.py â†’ Group by condition_id    â”‚     â”‚
â”‚  â”‚    Calculate indexSets for each outcome           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 4. relayer_client.py â†’ POST /redeem               â”‚     â”‚
â”‚  â”‚    Builder Relayer integration                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 5. telegram_notifier.py â†’ Send to Telegram        â”‚     â”‚
â”‚  â”‚    csv_logger.py â†’ Log to redemption.csv          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¤Ğ°Ğ¹Ğ»Ñ‹

```
scripts/
â”œâ”€â”€ redemption/
â”‚   â”œâ”€â”€ __init__.py              # Python package marker
â”‚   â”œâ”€â”€ main.py                  # Entry point (systemd Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ ÑÑ‚Ğ¾)
â”‚   â”œâ”€â”€ config.py                # Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° .env, Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ polymarket_api.py        # GET /balances API client
â”‚   â”œâ”€â”€ redemption_logic.py      # Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾ condition_id, indexSets
â”‚   â”œâ”€â”€ relayer_client.py        # Builder Relayer + HMAC auth
â”‚   â”œâ”€â”€ telegram_notifier.py     # Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ (HTTP)
â”‚   â””â”€â”€ csv_logger.py            # CSV Ğ»Ğ¾Ğ³Ğ¸
â””â”€â”€ requirements.txt             # Python Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

systemd/
â”œâ”€â”€ redemption-bot.service       # Systemd service (oneshot)
â””â”€â”€ redemption-bot.timer         # Systemd timer (60 min)

logs/
â””â”€â”€ redemption.csv               # CSV Ğ»Ğ¾Ğ³ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
```

### Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

1. **Systemd timer** Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ `main.py` ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚
2. **API Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ**: GET `/balances/{funder_address}` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸
3. **Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°**: Ğ¿Ğ¾ `condition_id`, Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ `indexSets` (2^outcome_index)
4. **Redemption**: POST `/redeem` Ñ‡ĞµÑ€ĞµĞ· Builder Relayer (Ğ³Ğ°Ğ· Ğ¿Ğ¾ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ relayer)
5. **Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ**: Telegram (Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾, Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸, ÑƒÑĞ¿ĞµÑ…/Ğ¾ÑˆĞ¸Ğ±ĞºĞ°)
6. **Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: CSV Ñ„Ğ°Ğ¹Ğ» (timestamp, condition, amount, tx_hash, status)

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
# 1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Python Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
pip3 install -r scripts/requirements.txt

# 2. Ğ¢ĞµÑÑ‚ (manual run)
python3 scripts/redemption/main.py

# 3. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ systemd timer (Linux VPS)
sudo cp systemd/redemption-bot.* /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable redemption-bot.timer
sudo systemctl start redemption-bot.timer

# 4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ
sudo systemctl status redemption-bot.timer
sudo journalctl -u redemption-bot.service -f
```

### ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

```bash
# Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ timer
sudo systemctl list-timers redemption-bot.timer

# Live logs (systemd journal)
sudo journalctl -u redemption-bot.service -f

# CSV Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
tail -f logs/redemption.csv

# Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº (Ğ½Ğµ Ğ´Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ñ‚ÑŒÑÑ timer)
sudo systemctl start redemption-bot.service
```

### Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ

Ğ•ÑĞ»Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ `TELEGRAM_BOT_TOKEN` Ğ¸ `TELEGRAM_ADMIN_ID`, Ğ±Ğ¾Ñ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚:

- ğŸ” **Check start**: "Redemption Check Started" (Ğ²Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°)
- ğŸ’° **Found positions**: "Found 3 conditions, $45.67 USDC to redeem"
- âœ… **Success**: "Redeemed $15.00 from condition abc123... (tx: 0xdef456...)"
- âŒ **Error**: "Failed to redeem condition xyz789...: error message"
- â„¹ï¸ **No positions**: "No positions to redeem"

### CSV Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚

`logs/redemption.csv`:

```csv
timestamp,condition_id,parent_collection_id,index_sets,amount_usdc,status,tx_hash,error
2025-12-14T10:00:15,0xabc123...,0x000...,1|2,15.500000,success,0xdef456...,
2025-12-14T10:00:18,0xghi789...,0x000...,1,8.250000,error,,Relayer timeout
```

### IndexSets Calculation

Binary markets (2 outcomes):
- Outcome 0 (YES) â†’ indexSet = 2^0 = 1 (binary: 01)
- Outcome 1 (NO) â†’ indexSet = 2^1 = 2 (binary: 10)

Multi-outcome markets:
- indexSet = 1 << outcome_index (bitshift)

### Builder Relayer Integration

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ñ‚Ğµ Ğ¶Ğµ credentials Ñ‡Ñ‚Ğ¾ CLOB API (`CLOB_API_KEY`, `CLOB_SECRET`, `CLOB_PASS_PHRASE`):

1. **HMAC-SHA256 signature**: `timestamp + method + path + body`
2. **Headers**:
   - `POLY_ADDRESS`: wallet address (ĞĞ• funder!)
   - `POLY_SIGNATURE`: URL-safe base64
   - `POLY_TIMESTAMP`: unix timestamp
   - `POLY_API_KEY`: API key
   - `POLY_PASSPHRASE`: passphrase

3. **Endpoint**: POST `/redeem`
   - `conditionId`: condition ID Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ°
   - `indexSets`: ÑĞ¿Ğ¸ÑĞ¾Ğº indexSets Ğ´Ğ»Ñ Ğ²Ñ‹ĞºÑƒĞ¿Ğ°
   - `parentCollectionId`: Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ 0x000...

### ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ credentials Ğ¸Ğ· `.env`:
- `PK` â€” Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ (Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¸)
- `FUNDER` â€” funder address (Ğ´Ğ»Ñ API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²)
- `CLOB_API_KEY`, `CLOB_SECRET`, `CLOB_PASS_PHRASE` â€” Builder Relayer auth
- `TELEGRAM_BOT_TOKEN`, `TELEGRAM_ADMIN_ID` â€” ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

### Systemd Timer

**redemption-bot.timer**:
- `OnBootSec=5min` â€” Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ñ‡ĞµÑ€ĞµĞ· 5 Ğ¼Ğ¸Ğ½ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
- `OnUnitActiveSec=60min` â€” Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 60 Ğ¼Ğ¸Ğ½ÑƒÑ‚
- `Persistent=true` â€” Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑ‰ĞµĞ½Ğ½Ñ‹Ğµ runs (ĞµÑĞ»Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ±Ñ‹Ğ»Ğ° Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ°)
- `RandomizedDelaySec=5min` â€” ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ°Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ´Ğ¾ 5 Ğ¼Ğ¸Ğ½ (Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ñ€Ğ¾Ğ²Ğ½Ğ¾ Ğ² Ñ‡Ğ°Ñ)

**redemption-bot.service**:
- `Type=oneshot` â€” Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ·, Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ĞµÑ‚ÑÑ
- `Restart=on-failure` â€” restart ĞµÑĞ»Ğ¸ exit code != 0 (Ğ¿Ğ¾ÑĞ»Ğµ 5 Ğ¼Ğ¸Ğ½)
- `StandardOutput=journal` â€” Ğ»Ğ¾Ğ³Ğ¸ Ğ² systemd journalctl

### Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ² `REDEMPTION_README.md`:
- Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°
- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ troubleshooting
- Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ°
- Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Telegram Ğ±Ğ¾Ñ‚Ğ¾Ğ¼

## Troubleshooting (Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹)

### C++ Latency Test: latencyRecords.length = 0

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ’ Ğ»Ğ¾Ğ³Ğ°Ñ… `[TRACK] latencyRecords.length = 0` Ğ´Ğ°Ğ¶Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ° `trackLatency()`.

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ `shouldLog()` Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°Ğ»Ğ° `false` Ğ´Ğ»Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ĞµĞ¼ "the orderbook ... does not exist" â€” Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `error?.includes('does not exist')` Ğ½Ğµ ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ»Ğ° Ğ¸Ğ·-Ğ·Ğ° Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ `shouldLog()` Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²ÑĞµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸:
```typescript
function shouldLog(success: boolean, error?: string): boolean {
  if (success) return true;
  if (error?.includes('does not exist')) return true;
  return true;  // Log all attempts
}
```

### C++ stdout Ğ½Ğµ Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ¾ Node.js

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ATTEMPT: ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ¸Ğ· C++ Ğ½Ğµ Ğ¿Ğ¾ÑĞ²Ğ»ÑĞ»Ğ¸ÑÑŒ Ğ² Node.js.

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** C++ stdout Ğ±ÑƒÑ„ĞµÑ€Ğ¸Ğ·ÑƒĞµÑ‚ÑÑ, Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğµ ÑĞ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ÑÑ‚ÑÑ ÑÑ€Ğ°Ğ·Ñƒ.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `std::cout.flush()` Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ° Ğ² C++:
```cpp
std::cout << "ATTEMPT:" << attempts << ":" << latencyMs << ":true:" << orderId << std::endl;
std::cout.flush();
```

### ĞÑ€Ğ´ĞµÑ€ Ğ½Ğµ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Polymarket

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ›Ğ¾Ğ³ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑƒÑĞ¿ĞµÑ… (status 200), Ğ½Ğ¾ Ğ¾Ñ€Ğ´ĞµÑ€ Ğ½Ğµ Ğ²Ğ¸Ğ´ĞµĞ½.

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** Expiration Ğ±Ñ‹Ğ» Ğ² Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾Ğ¼ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸. ĞÑ€Ğ´ĞµÑ€ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾ Ğ¸ÑÑ‚ĞµĞºĞ°Ğ».

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ `expirationBuffer` Ğ¸Ğ· `ORDER_CONFIG` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ğ·Ğ°Ñ…Ğ°Ñ€Ğ´ĞºĞ¾Ğ¶ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ:
```typescript
const expirationTimestamp = marketTimestamp - TEST_EXPIRATION_BUFFER;
```

### Status 200 Ğ½Ğ¾ orderID Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** HTTP 200 OK, Ğ½Ğ¾ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚Ğµ `orderID: ""` Ğ¸ Ğ¾Ñ€Ğ´ĞµÑ€ Ğ½Ğµ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½.

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** ĞšĞ¾Ğ´ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ» Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ `status === 200`, Ğ½Ğ¾ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ» Ñ‡Ñ‚Ğ¾ `orderID` Ğ½Ğµ Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹. Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 200 Ğ´Ğ°Ğ¶Ğµ ĞºĞ¾Ğ³Ğ´Ğ° orderbook Ğ½Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ `orderID`:
```typescript
if (rawResp.status === 200) {
  const parsed = JSON.parse(rawResult);
  const orderId = parsed[0]?.orderID || '';
  if (orderId) {
    // Ğ£ÑĞ¿ĞµÑ… - Ğ¾Ñ€Ğ´ĞµÑ€ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½
  } else {
    // Orderbook Ğ½Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚
  }
}
```

### CSV: Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** pandas Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ CSV Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾Ğ¼ ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº (ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ 12, Ğ½Ğ¾Ğ²Ñ‹Ğ¹ 19).

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ§Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº:
```python
df = pd.read_csv(csv_path, header=None, skiprows=1,
                 usecols=[0, 7, 8],
                 names=['server_time_ms', 'latency_ms', 'status'])
```

### Stream spam: Ğ½Ğµ Ğ²ÑĞµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ° ÑÑ‚Ğ°Ğ²ÑÑ‚ÑÑ

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ĞŸÑ€Ğ¸ stream ÑĞ¿Ğ°Ğ¼Ğµ ÑÑ‚Ğ°Ğ²ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ 6-9 Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ² Ğ¸Ğ· 10, ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ.

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** `sendRequest()` Ğ½Ğµ Ğ¶Ğ´Ñ‘Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° â€” Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ "Ğ² Ğ¿Ğ¾Ğ»Ñ‘Ñ‚Ğµ" ĞºĞ¾Ğ³Ğ´Ğ° Ñ†Ğ¸ĞºĞ» ÑƒĞ¶Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ĞµÑ‚ÑÑ. ĞĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚ Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ° Ğ¸Ğ· Ñ†Ğ¸ĞºĞ»Ğ°.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑŒ Ğ²ÑĞµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¸ÑÑ‹ Ğ¸ Ğ¶Ğ´Ğ°Ñ‚ÑŒ Ğ¸Ñ… Ğ² ĞºĞ¾Ğ½Ñ†Ğµ:
```typescript
const inFlightRequests: Promise<void>[] = [];

const sendRequest = (order) => {
  const promise = tradingService.postSignedOrder(...)
    .then(result => { order.placed = true; })
    .catch(() => {});
  inFlightRequests.push(promise);  // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ¿Ñ€Ğ¾Ğ¼Ğ¸Ñ
};

// ĞŸĞ¾ÑĞ»Ğµ Ñ†Ğ¸ĞºĞ»Ğ° - Ğ¶Ğ´Ñ‘Ğ¼ Ğ²ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹
await Promise.all(inFlightRequests);
```

### Polymarket Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ +60 ÑĞµĞº Ğº expiration

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ĞÑ€Ğ´ĞµÑ€ Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ·Ğ° 90 ÑĞµĞº Ğ´Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ° Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ñ… 30 ÑĞµĞº.

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** Polymarket Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ +60 ÑĞµĞºÑƒĞ½Ğ´ Ğº Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ expiration Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ GTD Ğ¾Ñ€Ğ´ĞµÑ€Ğ°.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ’Ñ‹Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ 60 Ğ¸Ğ· Ğ¶ĞµĞ»Ğ°ĞµĞ¼Ğ¾Ğ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ expirationBuffer:
```typescript
// Ğ¥Ğ¾Ñ‚Ğ¸Ğ¼: 30 ÑĞµĞº Ğ´Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
// PM Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ +60, Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑÑ: 30+60 = 90 ÑĞµĞº Ğ´Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
// ĞŸĞ¾ÑÑ‚Ğ¾Ğ¼Ñƒ ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼: 30-60 = -30
{ price: 0.45, size: 10, expirationBuffer: -30 },  // 30 ÑĞµĞº Ğ´Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°:** `expirationBuffer = Ğ¶ĞµĞ»Ğ°ĞµĞ¼Ğ¾Ğµ_Ğ²Ñ€ĞµĞ¼Ñ_Ğ´Ğ¾_ÑÑ‚Ğ°Ñ€Ñ‚Ğ° - 60`

## Redemption Bot - Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ (2025-12-15)

### âœ… Ğ§Ñ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:
1. **API Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³**: ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ redeemable Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ (18 ÑˆÑ‚, $968 USDC)
   - Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ğ»ĞµĞ¹: `conditionId`, `asset`, `title` (camelCase)
   - ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ `outcome` (ÑÑ‚Ñ€Ğ¾ĞºĞ¸ "Yes"/"No" Ğ¸ Ñ‡Ğ¸ÑĞ»Ğ°)
2. **SDK Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ**: py-builder-relayer-client ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½
3. **Calldata Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: redeemPositions() calldata Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾
4. **SafeTransaction**: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ÑÑ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸
5. **Systemd timer**: Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ (ÑƒĞ±Ñ€Ğ°Ğ½ Restart=on-failure loop)

### âŒ Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: 401 Authorization Error

```
POST /submit HTTP/1.1" 401 34
RelayerApiException[status_code=401, error_message={'error': 'invalid authorization'}]
```

**Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:**
1. CLOB credentials (API_KEY, SECRET, PASSPHRASE) Ğ½Ğµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‚ Ğ´Ğ»Ñ Relayer API
2. ĞÑƒĞ¶Ğ½Ñ‹ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Builder credentials Ğ´Ğ»Ñ relayer
3. Wallet Ğ½Ğµ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ² Builder Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğµ Polymarket
4. ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑŒ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ:**
- [ ] Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹ Ğ»Ğ¸ CLOB credentials Ğ´Ğ»Ñ relayer endpoint
- [ ] ĞÑƒĞ¶Ğ½Ğ° Ğ»Ğ¸ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Polymarket Builder Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğµ
- [ ] Ğ•ÑÑ‚ÑŒ Ğ»Ğ¸ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ credentials Ğ´Ğ»Ñ relayer
- [ ] Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ½ÑƒĞ¶ĞµĞ½ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ (Ğ¿Ñ€ÑĞ¼Ğ°Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ relayer)

**Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸:**
- `scripts/redemption/relayer_client.py` - RelayClient Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- `scripts/redemption/config.py` - Credentials Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°
- `.env` - CLOB_API_KEY, CLOB_SECRET, CLOB_PASS_PHRASE

**Ğ›Ğ¾Ğ³Ğ¸ Ñ DEBUG:**
```
[DEBUG] RelayClient: Created transaction request: {...}
[DEBUG] https://relayer-v2.polymarket.com:443 "POST /submit HTTP/1.1" 401 34
[ERROR] RelayerApiException[status_code=401, error_message={'error': 'invalid authorization'}]
```

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹:**
1. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€ÑĞ¼Ñ‹Ğµ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ (Ğ½ÑƒĞ¶ĞµĞ½ Ğ³Ğ°Ğ· MATIC)
2. ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ Builder credentials
3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ redemption (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)

---

## Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ

- **2025-12-15**: Redemption Bot debugging - Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ API Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³, SDK Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ, calldata Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ. ĞÑÑ‚Ğ°Ğ»Ğ°ÑÑŒ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 401 Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ñ relayer.
- **2025-12-14**: Redemption Bot - Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ñ‹ĞºÑƒĞ¿ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹ (Python, systemd timer, Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ)
- **2025-12-09**: Fix expirationBuffer - ÑƒÑ‡Ñ‘Ñ‚ +60 ÑĞµĞº Ğ¾Ñ‚ Polymarket
- **2025-12-08**: Python Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ latency (plot_latency.py), Ñ‚Ñ‘Ğ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°, Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹
- **2025-12-08**: Fix latencyRecords tracking - shouldLog() Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ»Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸
- **2025-12-08**: Fix C++ stdout buffering - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ flush()
- **2025-12-08**: Fix expiration - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ORDER_CONFIG.expirationBuffer
- **2025-12-05**: C++ latency test â€” Auth Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚! (fix: wallet addr, underscore headers, URL-safe base64)
- **2025-12-04**: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ test-latency.ts Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ latency
- **2025-12-03**: 10 Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ² Ñ Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ expiration times
- **2025-11-25**: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚, Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½ Ğ¸Ğ· live-trade-PM
- Ğ ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹: https://github.com/Bezoutoff/Tuda_Suda_49
